C51 COMPILER V9.52.0.0   SYS                                                               10/23/2020 17:40:59 PAGE 1   


C51 COMPILER V9.52.0.0, COMPILATION OF MODULE SYS
OBJECT MODULE PLACED IN .\Objects\sys.obj
COMPILER INVOKED BY: H:\electric\Keil_v5\C51\BIN\C51.EXE sys.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listi
                    -ngs\sys.lst) TABS(2) OBJECT(.\Objects\sys.obj)

line level    source

   1          /**
   2           * @file: sys.c
   3           * @author: Honokawings (1915569481@qq.com)
   4           * @description: 中断处理
   5           * @version 0.1
   6           * @date: 2020-10-21 18:10:68
   7           * 
   8           * @copyright Copyright (c) 2020
   9           * 
  10           */
  11          #include "sys.h"
  12          #include "menu.h"
  13          
  14          /**
  15           * @description: 中断程序初始化
  16           * 
  17           */
  18          void interrupt_init()
  19          {
  20   1          EA=1;   //总中断使能
  21   1      }
  22          
  23          void timer0_init()
  24          {
  25   1          TMOD&=0xf0;
  26   1          TMOD|=0x01;
  27   1          TH0=0xFC;
  28   1          TL0=0X67; //1ms计时
  29   1          ET0=1;
  30   1          TF0=0;
  31   1          TR0=1;//启动T0
  32   1      }
  33          
  34          /**
  35           * @description: 定时器T0中断
  36           * 
  37           */
  38          void interrupt_timer0()  interrupt 1
  39          {
  40   1          TH0=0xFC;
  41   1          TL0=0x67; //1ms计时
  42   1      
  43   1          //定时器0中断函数
  44   1          last_operation=now_operation;
  45   1          now_operation=key_analyze(key_scan());
  46   1          
  47   1      }
  48          
  49          //定时器1初始化及中断
  50          // void timer1_init()
  51          // {
  52          //     TMOD&=0x0f;
  53          //     TMOD|=0x10;
  54          //     TH1=0xFC;
C51 COMPILER V9.52.0.0   SYS                                                               10/23/2020 17:40:59 PAGE 2   

  55          //     TL1=0X67; //1ms计时
  56          //     TF1=0;
  57          //     TR1=1;//启动T1
  58          // }
  59          
  60          // /**
  61          //  * @description: 定时器T1中断
  62          //  * 
  63          //  */
  64          // void interrupt_timer1() interrupt 3
  65          // {
  66          //     TH1=0xFC;
  67          //     TL1=0X67; //1ms计时
  68          
  69          //     //定时器1中断函数
  70          
  71          // }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     95    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
