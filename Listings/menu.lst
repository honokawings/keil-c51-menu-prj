C51 COMPILER V9.52.0.0   MENU                                                              10/24/2020 15:52:46 PAGE 1   


C51 COMPILER V9.52.0.0, COMPILATION OF MODULE MENU
OBJECT MODULE PLACED IN .\Objects\menu.obj
COMPILER INVOKED BY: H:\electric\Keil_v5\C51\BIN\C51.EXE menu.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\List
                    -ings\menu.lst) TABS(2) OBJECT(.\Objects\menu.obj)

line level    source

   1          /**
   2           * @file: menu.c
   3           * @author: Honokawings (1915569481@qq.com)
   4           * @description: 菜单结构建立
   5           * @version 0.1
   6           * @date: 2020-10-22 16:10:99
   7           * 
   8           * @copyright Copyright (c) 2020
   9           * 
  10           */
  11          #include "menu.h"
  12          
  13          //从上至下 逆序字符
  14          static u8 code str_menu[][32]=
  15          {
  16          {0x00,0x02,0x02,0xC2,0x02,0x02,0x02,0xFE,0x82,0x82,0x82,0x82,0x82,0x02,0x00,0x00,0x40,0x40,0x40,0x7F,0x40,
             -0x40,0x40,0x7F,
  17           0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x00},/*"正",0*/
  18          {0x02,0xE2,0x22,0x22,0x3E,0x00,0x08,0x88,0x48,0x39,0x0E,0x08,0xC8,0x08,0x08,0x00,0x00,0x43,0x82,0x42,0x3E,
             -0x00,0x21,0x71,
  19           0x29,0x25,0x23,0x21,0x28,0x70,0x00,0x00},/*"弦",1*/
  20          {0x10,0x60,0x02,0x0C,0xC0,0x00,0xF8,0x88,0x88,0x88,0xFF,0x88,0x88,0xA8,0x18,0x00,0x04,0x04,0x7C,0x03,0x80,
             -0x60,0x1F,0x80,
  21           0x43,0x2C,0x10,0x28,0x46,0x81,0x80,0x00},/*"波",2*/
  22          {0x80,0x82,0x82,0xFE,0x82,0x82,0xFE,0x82,0x82,0x80,0x20,0x10,0x08,0x86,0x60,0x00,0x80,0x40,0x30,0x0F,0x00,
             -0x00,0xFF,0x00,
  23           0x00,0x80,0x84,0x42,0x21,0x10,0x0C,0x00},/*"形",3*/
  24          
  25          
  26          {0x00,0x04,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x04,0x00,0x00,0x20,0x20,0x20,0x20,0x20,
             -0x20,0x20,0x20,
  27          0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x00},/*"三",0*/
  28          {0x20,0x10,0xE8,0x24,0x27,0x24,0x24,0xE4,0x24,0x34,0x2C,0x20,0xE0,0x00,0x00,0x00,0x80,0x60,0x1F,0x09,0x09,
             -0x09,0x09,0x7F,
  29          0x09,0x09,0x49,0x89,0x7F,0x00,0x00,0x00},/*"角",1*/
  30          {0x10,0x60,0x02,0x0C,0xC0,0x00,0xF8,0x88,0x88,0x88,0xFF,0x88,0x88,0xA8,0x18,0x00,0x04,0x04,0x7C,0x03,0x80,
             -0x60,0x1F,0x80,
  31          0x43,0x2C,0x10,0x28,0x46,0x81,0x80,0x00},/*"波",2*/
  32          {0x80,0x82,0x82,0xFE,0x82,0x82,0xFE,0x82,0x82,0x80,0x20,0x10,0x08,0x86,0x60,0x00,0x80,0x40,0x30,0x0F,0x00,
             -0x00,0xFF,0x00,
  33          0x00,0x80,0x84,0x42,0x21,0x10,0x0C,0x00},/*"形",3*/
  34          
  35          {0x00,0xFE,0x22,0x22,0xFE,0x00,0x40,0x48,0xC8,0x09,0xFA,0xE4,0x40,0x20,0x10,0x00,0x80,0x7F,0x02,0x82,0xFF,
             -0x20,0x10,0x0C,
  36          0x43,0x80,0x7F,0x00,0x07,0x18,0x20,0x00},/*"脉",0*/
  37          {0x00,0x02,0x0C,0xC0,0x00,0xF0,0x10,0x10,0x10,0xFF,0x10,0x10,0x10,0xF0,0x00,0x00,0x02,0x02,0x7F,0x00,0x00,
             -0x0F,0x04,0x04,
  38          0x04,0xFF,0x04,0x04,0x04,0x0F,0x00,0x00},/*"冲",1*/
  39          {0x08,0x08,0x08,0x08,0x08,0xF8,0x89,0x8E,0x88,0x88,0x88,0x88,0x08,0x08,0x08,0x00,0x00,0x80,0x40,0x20,0x18,
             -0x07,0x00,0x00,
  40          0x40,0x80,0x40,0x3F,0x00,0x00,0x00,0x00},/*"方",2*/
  41          {0x10,0x60,0x02,0x0C,0xC0,0x00,0xF8,0x88,0x88,0x88,0xFF,0x88,0x88,0xA8,0x18,0x00,0x04,0x04,0x7C,0x03,0x80,
             -0x60,0x1F,0x80,
  42          0x43,0x2C,0x10,0x28,0x46,0x81,0x80,0x00},/*"波",3*/
C51 COMPILER V9.52.0.0   MENU                                                              10/24/2020 15:52:46 PAGE 2   

  43          
  44          {0x00,0x02,0x02,0xC2,0x02,0x02,0x02,0xFE,0x82,0x82,0x82,0x82,0x82,0x02,0x00,0x00,0x40,0x40,0x40,0x7F,0x40,
             -0x40,0x40,0x7F,
  45          0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x00},/*"正",0*/
  46          {0x02,0xE2,0x22,0x22,0x3E,0x00,0x08,0x88,0x48,0x39,0x0E,0x08,0xC8,0x08,0x08,0x00,0x00,0x43,0x82,0x42,0x3E,
             -0x00,0x21,0x71,
  47          0x29,0x25,0x23,0x21,0x28,0x70,0x00,0x00},/*"弦",1*/
  48          {0x00,0xFE,0x22,0x22,0xFE,0x00,0x40,0x48,0xC8,0x09,0xFA,0xE4,0x40,0x20,0x10,0x00,0x80,0x7F,0x02,0x82,0xFF,
             -0x20,0x10,0x0C,
  49          0x43,0x80,0x7F,0x00,0x07,0x18,0x20,0x00},/*"脉",2*/
  50          {0x00,0x02,0x0C,0xC0,0x00,0xF0,0x10,0x10,0x10,0xFF,0x10,0x10,0x10,0xF0,0x00,0x00,0x02,0x02,0x7F,0x00,0x00,
             -0x0F,0x04,0x04,
  51          0x04,0xFF,0x04,0x04,0x04,0x0F,0x00,0x00},/*"冲",3*/
  52          {0x08,0x08,0x08,0x08,0x08,0xF8,0x89,0x8E,0x88,0x88,0x88,0x88,0x08,0x08,0x08,0x00,0x00,0x80,0x40,0x20,0x18,
             -0x07,0x00,0x00,
  53          0x40,0x80,0x40,0x3F,0x00,0x00,0x00,0x00},/*"方",4*/
  54          {0x10,0x60,0x02,0x0C,0xC0,0x00,0xF8,0x88,0x88,0x88,0xFF,0x88,0x88,0xA8,0x18,0x00,0x04,0x04,0x7C,0x03,0x80,
             -0x60,0x1F,0x80,
  55          0x43,0x2C,0x10,0x28,0x46,0x81,0x80,0x00}/*"波",5*/
  56          };
  57          
  58          static u8 code str_picture[][24]=
  59          {
  60          {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
             -0x00,0x00,0x00},
  61          {0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
             -0x00,0x00,0x00},
  62          {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
             -0x00,0x00,0x00},
  63          {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
             -0x00,0x00,0x00},
  64          {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
             -0x00,0x00,0x00},
  65          {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
             -0x00,0x00,0xF8},
  66          {0xFC,0x0E,0x06,0x66,0x66,0x66,0x66,0x66,0x66,0x67,0xFF,0xF6,0x66,0x66,0x66,0x66,0xE6,0xC6,0x86,0x06,0x00,
             -0x00,0x00,0x00},
  67          {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0C,0x0C,0x0C,0x0C,0x2C,0xEC,0x8C,0x0D,
             -0x0F,0x0E,0x0C},
  68          {0x0C,0x0C,0x88,0xF8,0x78,0x18,0x18,0x18,0x18,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
             -0x00,0x00,0x00},
  69          {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
             -0x00,0x00,0x00},
  70          {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
             -0x00,0x00,0x00},
  71          {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x1F,0x00,0x03,0x33,0x33,0x33,0x33,0x33,0x33,0x37,0xFF,0xFF,0x33,
             -0x33,0x36,0x36},
  72          {0x36,0x1F,0x0F,0x06,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
             -0xF8,0x1C,0x06},
  73          {0x06,0x86,0xC7,0xC7,0xC6,0xE6,0x66,0x66,0x76,0x36,0x37,0x07,0x06,0x06,0x06,0x06,0x00,0x00,0x00,0x80,0x00,
             -0x00,0x00,0x00},
  74          {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
             -0x00,0x00,0x00},
  75          {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
             -0x00,0x00,0x00},
  76          {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFC,0xFF,0x00,0x00,0x00,0x7C,0xFE,
             -0x87,0x83,0x83},
  77          {0x83,0x83,0x83,0x83,0x83,0x83,0x83,0x83,0xC6,0xFC,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
             -0x00,0x00,0x00},
  78          {0x00,0x00,0x00,0x00,0xFC,0xFF,0x00,0x00,0x00,0x80,0x81,0xC4,0xCC,0xCC,0x66,0x66,0x66,0x36,0x30,0x38,0x18,
             -0x18,0x0C,0x08},
  79          {0x00,0x00,0x00,0xFF,0x20,0x20,0xFC,0x00,0xF8,0x88,0xF8,0x00,0xF0,0x10,0xE0,0x00,0xE0,0xA0,0xE0,0x00,0xFE,
C51 COMPILER V9.52.0.0   MENU                                                              10/24/2020 15:52:46 PAGE 3   

             -0x20,0x50,0x88},
  80          {0x04,0xF0,0x50,0x50,0xF0,0x00,0x70,0x40,0x60,0x40,0x70,0x06,0x74,0x00,0xF8,0x10,0x70,0x00,0x78,0x48,0xF8,
             -0x00,0x7C,0x44},
  81          {0xCC,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xC0,0xC0,0xC0,0xC0,0xC0,0x80,
             -0x00,0x01,0x01},
  82          {0x00,0x00,0x00,0x80,0xC0,0xC1,0xC1,0xC1,0xC1,0x81,0x01,0x01,0x01,0x01,0xC1,0xC1,0xC1,0xC0,0x80,0x00,0x00,
             -0x00,0x00,0x00},
  83          {0x00,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0x80,0x80,0x00,0x00,0x01,0xC1,0xC0,0xC0,0xC0,0x81,0x01,0x00,0x00,
             -0x00,0x00,0x00},
  84          {0x00,0xC0,0xC0,0xC0,0xC0,0x80,0x00,0x00,0x00,0x00,0x00,0x07,0x00,0x80,0xC1,0xC0,0xC0,0xC0,0xC0,0x80,0x01,
             -0x00,0x00,0x00},
  85          {0x00,0x00,0x80,0xC0,0xC3,0xC0,0xC0,0xC0,0x81,0x00,0x00,0x00,0x00,0x00,0x80,0xC0,0xC0,0xC0,0xC0,0x80,0x80,
             -0x00,0x00,0x00},
  86          {0x01,0x01,0x81,0xC1,0xC1,0xC0,0xC6,0xC4,0x87,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1C,
             -0x1F,0x03,0x01},
  87          {0x00,0x00,0x00,0x81,0xE3,0x7F,0x1C,0x00,0x00,0xFC,0xFF,0x03,0x01,0x00,0x00,0x00,0x01,0x03,0xFF,0xFC,0x00,
             -0x00,0x00,0x00},
  88          {0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xC1,0xF3,0x3F,0x00,0x00,
             -0x00,0x00,0x00},
  89          {0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x1C,0x1F,
             -0x03,0x01,0x00},
  90          {0x00,0x00,0x81,0xE3,0x7F,0x1C,0x00,0x00,0xFC,0xFF,0x03,0x01,0x00,0x00,0x00,0x01,0x03,0xFF,0xFC,0x00,0x7E,
             -0xFF,0x81,0x00},
  91          {0x00,0x00,0x00,0x01,0x03,0xFF,0x00,0x00,0xFC,0xFF,0x03,0x01,0x00,0x00,0x00,0x01,0x03,0xFF,0xFC,0x00,0x00,
             -0x00,0x00,0x00},
  92          {0x00,0x00,0x00,0x00,0xE0,0xF0,0x38,0x1C,0x0C,0x06,0x03,0x01,0x00,0x00,0x00,0x00,0x00,0x3F,0xFF,0xC0,0x80,
             -0x00,0x00,0x00},
  93          {0x80,0xC0,0xFF,0x3F,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,
             -0xF0,0x7C,0x0F},
  94          {0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
             -0xFF,0xFF,0x00},
  95          {0x00,0x00,0x00,0xE0,0xF0,0x38,0x1C,0x0C,0x06,0x03,0x01,0x00,0x00,0x00,0x00,0x00,0x3F,0xFF,0xC0,0x80,0x00,
             -0x00,0x00,0x80},
  96          {0xC0,0xFF,0x3F,0x00,0x80,0x80,0x01,0x03,0x03,0x03,0x03,0x83,0xE3,0x7F,0x00,0x00,0x3F,0xFF,0xC0,0x80,0x00,
             -0x00,0x00,0x80},
  97          {0xC0,0xFF,0x3F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,
             -0x03,0x03,0x00},
  98          {0x00,0x00,0x00,0x01,0x03,0x03,0x03,0x03,0x03,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x03,0x00,
             -0x00,0x00,0x00},
  99          {0x00,0x00,0x00,0x02,0x03,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x03,0x00,0x00,
             -0x00,0x00,0x00},
 100          {0x00,0x00,0x00,0x00,0x00,0x01,0x03,0x00,0x00,0x00,0x00,0x01,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,
             -0x03,0x00,0x00},
 101          {0x00,0x00,0x01,0x03,0x03,0x03,0x03,0x03,0x01,0x00,0x00,0x00,0x01,0x01,0x03,0x03,0x03,0x03,0x03,0x01,0x00,
             -0x00,0x00,0x00},
 102          {0x00,0x00,0x01,0x03,0x03,0x03,0x03,0x03,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"E:\Pictures\12864\128
             -64定制页面.bmp",0*/
 103          };
 104          
 105          //正弦参数 128点 7精度
 106          static u8 code sin_dot[128]=
 107          {0x1F,0x20,0x22,0x23,0x25,0x26,0x27,0x29,0x2A,0x2C,0x2D,0x2E,0x30,0x31,0x32,0x33,
 108          0x34,0x35,0x36,0x37,0x38,0x39,0x3A,0x3B,0x3B,0x3C,0x3C,0x3D,0x3D,0x3D,0x3D,0x3D,
 109          0x3E,0x3D,0x3D,0x3D,0x3D,0x3D,0x3C,0x3C,0x3B,0x3B,0x3A,0x39,0x38,0x37,0x36,0x35,
 110          0x34,0x33,0x32,0x31,0x30,0x2E,0x2D,0x2C,0x2A,0x29,0x27,0x26,0x25,0x23,0x22,0x20,
 111          0x1F,0x1D,0x1B,0x1A,0x18,0x17,0x16,0x14,0x13,0x11,0x10,0x0F,0x0D,0x0C,0x0B,0x0A,
 112          0x09,0x08,0x07,0x06,0x05,0x04,0x03,0x02,0x02,0x01,0x01,0x00,0x00,0x00,0x00,0x00,
 113          0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x02,0x02,0x03,0x04,0x05,0x06,0x07,0x08,
 114          0x09,0x0A,0x0B,0x0C,0x0D,0x0F,0x10,0x11,0x13,0x14,0x16,0x17,0x18,0x1A,0x1B,0x1D};
 115          
 116          void menu0()
 117          {
C51 COMPILER V9.52.0.0   MENU                                                              10/24/2020 15:52:46 PAGE 4   

 118   1      
 119   1          show_screen(str_picture[0],0);
 120   1          // show_sentence(1,str_menu[0],4,0);
 121   1          // show_sentence(2,str_menu[4],4,0);
 122   1          // show_sentence(3,str_menu[8],4,0);
 123   1          // show_sentence(4,str_menu[12],6,0);
 124   1      }
 125          
 126          void menu1()
 127          {
 128   1          clear(0);
 129   1          show_sentence(1,str_menu[0],4,1);
 130   1          show_sentence(2,str_menu[4],4,0);
 131   1          show_sentence(3,str_menu[8],4,0);
 132   1          show_sentence(4,str_menu[12],6,0);
 133   1      }
 134          
 135          void menu2()
 136          {
 137   1          clear(0);
 138   1          show_sentence(1,str_menu[0],4,0);
 139   1          show_sentence(2,str_menu[4],4,1);
 140   1          show_sentence(3,str_menu[8],4,0);
 141   1          show_sentence(4,str_menu[12],6,0);
 142   1      }
 143          
 144          void menu3()
 145          {
 146   1          clear(0);
 147   1          show_sentence(1,str_menu[0],4,0);
 148   1          show_sentence(2,str_menu[4],4,0);
 149   1          show_sentence(3,str_menu[8],4,1);
 150   1          show_sentence(4,str_menu[12],6,0);
 151   1      }
 152          
 153          void menu4()
 154          {
 155   1          clear(0);
 156   1          show_sentence(1,str_menu[0],4,0);
 157   1          show_sentence(2,str_menu[4],4,0);
 158   1          show_sentence(3,str_menu[8],4,0);
 159   1          show_sentence(4,str_menu[12],6,1);
 160   1      }
 161          
 162          void menu5()//实时渲染波形-正弦
 163          {
 164   1          u8 x,y;
 165   1          clear(0);
 166   1          for(x=0;x<128;x++)
 167   1          {
 168   2              y=127-sin_dot[x];
 169   2              draw_dot(x,y);
 170   2          }
 171   1      }
 172          
 173          void menu6()//实时渲染波形-三角
 174          {
 175   1          u8 x,y;
 176   1          clear(0);
 177   1          for(x=0;x<32;x++)
 178   1          {
 179   2              y=32-x;
C51 COMPILER V9.52.0.0   MENU                                                              10/24/2020 15:52:46 PAGE 5   

 180   2              draw_dot(x,y);
 181   2          }
 182   1          for(x=32;x<64;x++)
 183   1          {
 184   2              y=x-32;
 185   2              draw_dot(x,y);
 186   2          }
 187   1          for(x=64;x<96;x++)
 188   1          {
 189   2              y=x-32;
 190   2              draw_dot(x,y);
 191   2          }
 192   1          for(x=96;x<128;x++)
 193   1          {
 194   2              y=159-x;
 195   2              draw_dot(x,y);
 196   2          }
 197   1      }
 198          
 199          void menu7()//实时渲染波形-方波
 200          {
 201   1          u8 x;
 202   1          clear(0);
 203   1          for(x=0;x<32;x++)
 204   1          {
 205   2              draw_dot(x,32);
 206   2          }
 207   1          for(x=32;x<64;x++)
 208   1          {
 209   2              draw_dot(x,8);
 210   2          }
 211   1          for(x=64;x<96;x++)
 212   1          {
 213   2              draw_dot(x,32);
 214   2          }
 215   1          for(x=96;x<128;x++)
 216   1          {
 217   2              draw_dot(x,8);
 218   2          }
 219   1      }
 220          
 221          //手动构建菜单
 222          // u8 index;
 223          // u8 move_up;
 224          // u8 move_down;
 225          // u8 move_enter;
 226          // u8 move_esc;
 227          //记得更改菜单项总数 此处和main处
 228          MenuIndex menu_gather[8]=
 229          {
 230              {0,0,0,1,0,(*menu0)},
 231              {1,4,2,5,0,(*menu1)},
 232              {2,1,3,6,0,(*menu2)},
 233              {3,2,4,7,0,(*menu3)},
 234              {4,3,1,4,0,(*menu4)},
 235              {5,5,5,5,1,(*menu5)},
 236              {6,6,6,6,2,(*menu6)},
 237              {7,7,7,7,3,(*menu7)}
 238          };
 239          
 240          //注释部分为待拓展结构，慎删除
 241          //C51构建树形结构不好处理内存分配问题
C51 COMPILER V9.52.0.0   MENU                                                              10/24/2020 15:52:46 PAGE 6   

 242          // /**
 243          //  * @description: 创建新的同级下一节点
 244          //  * 
 245          //  * @param: head 此级菜单的头节点
 246          //  * @param: function 新节点功能
 247          //  * @param: name 新节点名称
 248          //  * @return: menu_t* 返回创建的节点
 249          //  */
 250          // menu_t *add_same_node(menu_t *head ,void *function,u8 function_id , u8 *name )
 251          // {
 252          //     menu_t *p=NULL,*pr=head;
 253          //     p=(menu_t *)malloc(sizeof(menu_t));//创建空节点
 254          
 255          //     if(head==NULL)  //头节点为空，则创建头节点
 256          //     {
 257          //         head=p;
 258          //         p->id=0;         
 259          //     }
 260          //     else    //头节点不为空
 261          //     {
 262          //         u8 i=0;
 263          //         while (pr->same_down!=NULL) //寻找并转到同级菜单的最后节点
 264          //         {
 265          //             i++;
 266          //             pr=pr->same_down;
 267          //         }
 268          //         pr->same_down=p;//创建同级节点
 269          //         p->same_up=pr;
 270          //         p->father=head->father;//和头节点拥有同样的父节点
 271          //         p->id=i;
 272          //     }
 273          //     p->function=function;//补充新节点的信息
 274          //     p->function_id=function_id;
 275          //     p->menu_name=name;
 276          //     p->son=NULL;
 277          //     p->same_down=NULL;
 278          //     return p;//返回新建的节点
 279          // }
 280          
 281          // /**
 282          //  * @description: 创建子节点
 283          //  * 
 284          //  * @param: head 当前列表头节点
 285          //  * @param: num 列表要创建子节点的节点编号
 286          //  * @param: function 节点函数功能
 287          //  * @param: name 节点名称
 288          //  * @return: menu_t* 返回该位置的子节点或者新节点
 289          //  */
 290          // menu_t *add_son_node(menu_t *head, u8 num, void *function,u8 function_id ,u8 *name )
 291          // {
 292          //     u8 i;
 293          //     menu_t *pr=head;
 294              
 295          //     for(i=0;i<num;i++)//遍历寻址
 296          //     {
 297          //         if(pr->same_down!=NULL)
 298          //         {
 299          //             pr=pr->same_down;
 300          //         }
 301          //     }
 302          
 303          //     if(pr->son!=NULL)//是否存在子节点
C51 COMPILER V9.52.0.0   MENU                                                              10/24/2020 15:52:46 PAGE 7   

 304          //     {
 305          //         pr=pr->son;
 306          //     }
 307          //     else
 308          //     {
 309          //         menu_t *p=NULL;
 310          //         p=(menu_t *)malloc(sizeof(menu_t)); //创建空节点
 311          
 312          //         pr->son=p;
 313          //         p->father=pr;
 314          //         p->id=0;
 315          //         p->same_up=NULL;
 316          //         p->same_down=NULL;
 317          //         p->son=NULL;
 318          //         p->function=function;
 319          //         p->function_id=function_id;
 320          //         p->menu_name=name;
 321          //         return p;//返回新创建的子节点
 322          //     }
 323          //     return pr;//返回已存在的子节点
 324          // }
 325          
 326          // /**
 327          //  * @description: 菜单结构建立
 328          //  * 
 329          //  * @param: head 头节点 往下创建选项
 330          //  */
 331          // void menu_make(menu_t *head)
 332          // {
 333          //     menu_t *first_page=NULL;
 334          //     init_mempool(first_page,5*sizeof(menu_t));
 335          //     first_page=(menu_t *)malloc(sizeof(menu_t));
 336          
 337          //     head=add_same_node(head,menu0,0,"页0");
 338          //     add_son_node(head,0,menu1,1,"页1选项1");
 339          //     add_same_node(first_page,menu2,2,"页1选项2");
 340          //     add_same_node(first_page,menu3,3,"页1选项3");
 341          //     add_same_node(first_page,menu4,4,"页1选项4");
 342          // }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    526    ----
   CONSTANT SIZE    =   1736    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     64       5
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
